{"version":3,"file":"login-1P1IvJ6x.js","sources":["../../../app/routes/login.tsx"],"sourcesContent":["import React from 'react'\nimport { json } from \"@remix-run/node\";\nimport { OAuth2Client } from 'google-auth-library';\nimport { FaGoogle } from \"react-icons/fa\";\nimport { Link, useLoaderData } from \"@remix-run/react\";\n\nconst oAuth2Client = new OAuth2Client(\n  process.env.OAUTH_CLIENT_ID,\n  process.env.OAUTH_CLIENT_SECRET,\n  process.env.OAUTH_REDIRECT,\n);\n\ntype RedirectData = {\n  data: {\n    redirect: string;\n  }\n}\n\nexport const loader = async () => {\n  const redirect = oAuth2Client.generateAuthUrl({\n    access_type: 'offline',\n    scope: [\n      'https://www.googleapis.com/auth/userinfo.profile',\n      'https://www.googleapis.com/auth/userinfo.email',\n    ],\n  });\n  return json({\n    data: {\n      redirect\n    }\n  });\n};\n\nexport default function Login () {\n  const {data} = useLoaderData<RedirectData>();\n  return (\n    <div className={'bg-white text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow'}>\n      <Link id=\"login-with-google\" className={'grid grid-cols-3'} to={data.redirect} data-testid=\"google-login\">\n        <div className={'pt-1'}>\n          <FaGoogle />\n        </div>\n        <div className={'text-center'}>\n          Login with Google\n        </div>\n      </Link>\n    </div>\n  )\n}\n"],"names":["Login","data","useLoaderData","jsx","className","children","jsxs","Link","id","to","redirect","FaGoogle"],"mappings":"geAiCA,SAAwBA,GAAS,CACzB,KAAA,CAACC,KAAAA,GAAQC,EAA4B,EAEzC,OAAAC,EAAAA,IAAC,OAAIC,UAAW,uFAAuF,wBAAA,QAAA,0BAAA,YACrGC,SAAAC,EAAA,KAACC,EAAK,CAAAC,GAAG,oBAAoBJ,UAAW,mBAAoBK,GAAIR,EAAKS,SAAU,cAAY,eAAc,sBAAA,OAAA,0BAAA,YACvGL,SAAA,CAACF,EAAA,IAAA,MAAA,CAAIC,UAAW,OACdC,SAAAF,EAAA,IAACQ,GAAQ,sBAAA,WAAA,0BAAA,YAAA,CACX,CAAA,EACCR,EAAA,IAAA,MAAA,CAAIC,UAAW,cAAcC,SAE9B,mBAAA,CAAA,CAAA,EACF,CACF,CAAA,CAEJ"}