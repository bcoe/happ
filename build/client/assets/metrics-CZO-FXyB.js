import{r as o,j as g}from"./jsx-runtime-Dd869mUQ.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[n]="2d6cfe05-de4b-4b0e-a210-265e42ab5b33",a._sentryDebugIdIdentifier="sentry-dbid-2d6cfe05-de4b-4b0e-a210-265e42ab5b33")}catch{}})();const y=o.createContext(null);function v({children:a}){const[n,d]=o.useState({daily:[]}),[r,c]=o.useState([]),[u,l]=o.useState(""),[i,f]=o.useState(!1),b=e=>(d(e),{}),p=async()=>{const t=await(await fetch("/v1/notes")).json();c(t.map(s=>({note:s.note,date:s.date,highlight:!1})))},h={metrics:n,notes:r,load:async()=>{const t=await(await fetch("/v1/metrics")).json();b({daily:t.map(s=>({name:new Date(s.date).toISOString().split("T")[0],completed:s.total_habits_for_day?s.habits_completed/s.total_habits_for_day:0}))}),await p()},set:b,maybeSelectRow:async e=>{e===u||i===!1||(l(e),e!==u&&c(r.map(t=>({note:t.note,date:t.date,highlight:t.date===e}))))},gotFocus:async()=>{i!==!0&&f(!0)},lostFocus:async()=>{i!==!1&&(f(!1),l(""),c(r.map(e=>({note:e.note,date:e.date,highlight:!1}))))}};return g.jsx(y.Provider,{value:h,children:a})}function F(){return o.useContext(y)}export{v as M,F as u};
//# sourceMappingURL=metrics-CZO-FXyB.js.map
