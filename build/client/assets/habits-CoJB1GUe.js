import{r as o,j as f}from"./jsx-runtime-CKQyCzpV.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="2b4a997b-e62b-49f3-bca5-6975cab2d079",a._sentryDebugIdIdentifier="sentry-dbid-2b4a997b-e62b-49f3-bca5-6975cab2d079")}catch{}})();const d=o.createContext(null);function m({children:a}){const[s,i]=o.useState([]),[c,b]=o.useState(!1),r=t=>(i([...t]),b(!t.length),{}),y={habits:s,empty:c,load:async()=>{const e=await(await fetch("/v1/habits-daily")).json();e.map(n=>{n.id=n.habit_id}),r(e)},set:r,create:async t=>{await fetch("/v1/habits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})})},toggle:async t=>{const e=s.find(n=>{if(n.id===t)return!0});e&&await fetch("/v1/habits-daily",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({habit_id:e.habit_id,status:!e.status,date:e.date})})},move:async(t,e)=>{await fetch("/v1/habits/array-move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldIndex:t,newIndex:e})})}};return f.jsx(d.Provider,{value:y,children:a})}function v(){return o.useContext(d)}export{m as H,v as u};
//# sourceMappingURL=habits-CoJB1GUe.js.map
