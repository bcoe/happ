import{r as a,R as A,j as b}from"./jsx-runtime-CUOzFbf5.js";import{v as be,A as In}from"./components-UUdORSDQ.js";import{G as qt}from"./iconBase-pNqM3h5p.js";import{u as tt,N as Ie}from"./habits-tKhYF_uH.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7c88d20d-aa41-4a15-9c5b-5994bdfa89c9",e._sentryDebugIdIdentifier="sentry-dbid-7c88d20d-aa41-4a15-9c5b-5994bdfa89c9")}catch{}})();function jn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const nt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function xt(e){return"nodeType"in e}function B(e){var t,n;return e?pe(e)?e:xt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function yt(e){const{Document:t}=B(e);return e instanceof t}function Be(e){return pe(e)?!1:e instanceof B(e).HTMLElement}function Gt(e){return e instanceof B(e).SVGElement}function me(e){return e?pe(e)?e.document:xt(e)?yt(e)?e:Be(e)||Gt(e)?e.ownerDocument:document:document:document}const V=nt?a.useLayoutEffect:a.useEffect;function wt(e){const t=a.useRef(e);return V(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function An(){const e=a.useRef(null),t=a.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=a.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Te(e,t){t===void 0&&(t=[e]);const n=a.useRef(e);return V(()=>{n.current!==e&&(n.current=e)},t),n}function Fe(e,t){const n=a.useRef();return a.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Ze(e){const t=wt(e),n=a.useRef(null),r=a.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function gt(e){const t=a.useRef();return a.useEffect(()=>{t.current=e},[e]),t.current}let lt={};function He(e,t){return a.useMemo(()=>{if(t)return t;const n=lt[e]==null?0:lt[e]+1;return lt[e]=n,e+"-"+n},[e,t])}function Zt(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const l=Object.entries(i);for(const[c,d]of l){const f=s[c];f!=null&&(s[c]=f+e*d)}return s},{...t})}}const ve=Zt(1),ke=Zt(-1);function On(e){return"clientX"in e&&"clientY"in e}function Ct(e){if(!e)return!1;const{KeyboardEvent:t}=B(e.target);return t&&e instanceof t}function Tn(e){if(!e)return!1;const{TouchEvent:t}=B(e.target);return t&&e instanceof t}function bt(e){if(Tn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return On(e)?{x:e.clientX,y:e.clientY}:null}const Le=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Le.Translate.toString(e),Le.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Bt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kn(e){return e.matches(Bt)?e:e.querySelector(Bt)}const Ln={display:"none"};function zn(e){let{id:t,value:n}=e;return A.createElement("div",{id:t,style:Ln},n)}function Bn(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return A.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Fn(){const[e,t]=a.useState("");return{announce:a.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Jt=a.createContext(null);function Hn(e){const t=a.useContext(Jt);a.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Pn(){const[e]=a.useState(()=>new Set),t=a.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[a.useCallback(r=>{let{type:o,event:s}=r;e.forEach(i=>{var l;return(l=i[o])==null?void 0:l.call(i,s)})},[e]),t]}const $n={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wn={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Yn(e){let{announcements:t=Wn,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=$n}=e;const{announce:s,announcement:i}=Fn(),l=He("DndLiveRegion"),[c,d]=a.useState(!1);if(a.useEffect(()=>{d(!0)},[]),Hn(a.useMemo(()=>({onDragStart(u){let{active:g}=u;s(t.onDragStart({active:g}))},onDragMove(u){let{active:g,over:h}=u;t.onDragMove&&s(t.onDragMove({active:g,over:h}))},onDragOver(u){let{active:g,over:h}=u;s(t.onDragOver({active:g,over:h}))},onDragEnd(u){let{active:g,over:h}=u;s(t.onDragEnd({active:g,over:h}))},onDragCancel(u){let{active:g,over:h}=u;s(t.onDragCancel({active:g,over:h}))}}),[s,t])),!c)return null;const f=A.createElement(A.Fragment,null,A.createElement(zn,{id:r,value:o.draggable}),A.createElement(Bn,{id:l,announcement:i}));return n?be.createPortal(f,n):f}var O;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(O||(O={}));function Je(){}function ct(e,t){return a.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const q=Object.freeze({x:0,y:0});function Qt(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function en(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Xn(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ft(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function tn(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Ht(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const Kn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ht(t,t.left,t.top),s=[];for(const i of r){const{id:l}=i,c=n.get(l);if(c){const d=Qt(Ht(c),o);s.push({id:l,data:{droppableContainer:i,value:d}})}}return s.sort(en)},_n=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ft(t),s=[];for(const i of r){const{id:l}=i,c=n.get(l);if(c){const d=Ft(c),f=o.reduce((g,h,m)=>g+Qt(d[m],h),0),u=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:i,value:u}})}}return s.sort(en)};function Vn(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=o-r,l=s-n;if(r<o&&n<s){const c=t.width*t.height,d=e.width*e.height,f=i*l,u=f/(c+d-f);return Number(u.toFixed(4))}return 0}const qn=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:i}=s,l=n.get(i);if(l){const c=Vn(l,t);c>0&&o.push({id:i,data:{droppableContainer:s,value:c}})}}return o.sort(Xn)};function Gn(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function nn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:q}function Zn(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const Jn=Zn(1);function Qn(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function er(e,t,n){const r=Qn(t);if(!r)return e;const{scaleX:o,scaleY:s,x:i,y:l}=r,c=e.left-i-(1-o)*parseFloat(n),d=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),f=o?e.width/o:e.width,u=s?e.height/s:e.height;return{width:f,height:u,top:d,right:c+f,bottom:d+u,left:c}}const tr={ignoreTransform:!1};function xe(e,t){t===void 0&&(t=tr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:f}=B(e).getComputedStyle(e);d&&(n=er(n,d,f))}const{top:r,left:o,width:s,height:i,bottom:l,right:c}=n;return{top:r,left:o,width:s,height:i,bottom:l,right:c}}function Pt(e){return xe(e,{ignoreTransform:!0})}function nr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function rr(e,t){return t===void 0&&(t=B(e).getComputedStyle(e)),t.position==="fixed"}function or(e,t){t===void 0&&(t=B(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function rt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(yt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Be(o)||Gt(o)||n.includes(o))return n;const s=B(e).getComputedStyle(o);return o!==e&&or(o,s)&&n.push(o),rr(o,s)?n:r(o.parentNode)}return e?r(e):n}function rn(e){const[t]=rt(e,1);return t??null}function ut(e){return!nt||!e?null:pe(e)?e:xt(e)?yt(e)||e===me(e).scrollingElement?window:Be(e)?e:null:null}function on(e){return pe(e)?e.scrollX:e.scrollLeft}function sn(e){return pe(e)?e.scrollY:e.scrollTop}function vt(e){return{x:on(e),y:sn(e)}}var k;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(k||(k={}));function an(e){return!nt||!e?!1:e===document.scrollingElement}function ln(e){const t={x:0,y:0},n=an(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const sr={x:.2,y:.2};function ir(e,t,n,r,o){let{top:s,left:i,right:l,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=sr);const{isTop:d,isBottom:f,isLeft:u,isRight:g}=ln(e),h={x:0,y:0},m={x:0,y:0},v={height:t.height*o.y,width:t.width*o.x};return!d&&s<=t.top+v.height?(h.y=k.Backward,m.y=r*Math.abs((t.top+v.height-s)/v.height)):!f&&c>=t.bottom-v.height&&(h.y=k.Forward,m.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!g&&l>=t.right-v.width?(h.x=k.Forward,m.x=r*Math.abs((t.right-v.width-l)/v.width)):!u&&i<=t.left+v.width&&(h.x=k.Backward,m.x=r*Math.abs((t.left+v.width-i)/v.width)),{direction:h,speed:m}}function ar(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function cn(e){return e.reduce((t,n)=>ve(t,vt(n)),q)}function lr(e){return e.reduce((t,n)=>t+on(n),0)}function cr(e){return e.reduce((t,n)=>t+sn(n),0)}function ur(e,t){if(t===void 0&&(t=xe),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);rn(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const dr=[["x",["left","right"],lr],["y",["top","bottom"],cr]];class Dt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=rt(n),o=cn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,i,l]of dr)for(const c of i)Object.defineProperty(this,c,{get:()=>{const d=l(r),f=o[s]-d;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class je{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function fr(e){const{EventTarget:t}=B(e);return e instanceof t?e:me(e)}function dt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Y;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Y||(Y={}));function $t(e){e.preventDefault()}function hr(e){e.stopPropagation()}var D;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(D||(D={}));const un={start:[D.Space,D.Enter],cancel:[D.Esc],end:[D.Space,D.Enter]},gr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case D.Right:return{...n,x:n.x+25};case D.Left:return{...n,x:n.x-25};case D.Down:return{...n,y:n.y+25};case D.Up:return{...n,y:n.y-25}}};class St{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new je(me(n)),this.windowListeners=new je(B(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Y.Resize,this.handleCancel),this.windowListeners.add(Y.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Y.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&ur(r),n(q)}handleKeyDown(t){if(Ct(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=un,coordinateGetter:i=gr,scrollBehavior:l="smooth"}=o,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=r.current,f=d?{x:d.left,y:d.top}:q;this.referenceCoordinates||(this.referenceCoordinates=f);const u=i(t,{active:n,context:r.current,currentCoordinates:f});if(u){const g=ke(u,f),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const v of m){const p=t.code,{isTop:x,isRight:w,isLeft:y,isBottom:S,maxScroll:E,minScroll:N}=ln(v),C=ar(v),R={x:Math.min(p===D.Right?C.right-C.width/2:C.right,Math.max(p===D.Right?C.left:C.left+C.width/2,u.x)),y:Math.min(p===D.Down?C.bottom-C.height/2:C.bottom,Math.max(p===D.Down?C.top:C.top+C.height/2,u.y))},j=p===D.Right&&!w||p===D.Left&&!y,T=p===D.Down&&!S||p===D.Up&&!x;if(j&&R.x!==u.x){const I=v.scrollLeft+g.x,U=p===D.Right&&I<=E.x||p===D.Left&&I>=N.x;if(U&&!g.y){v.scrollTo({left:I,behavior:l});return}U?h.x=v.scrollLeft-I:h.x=p===D.Right?v.scrollLeft-E.x:v.scrollLeft-N.x,h.x&&v.scrollBy({left:-h.x,behavior:l});break}else if(T&&R.y!==u.y){const I=v.scrollTop+g.y,U=p===D.Down&&I<=E.y||p===D.Up&&I>=N.y;if(U&&!g.x){v.scrollTo({top:I,behavior:l});return}U?h.y=v.scrollTop-I:h.y=p===D.Down?v.scrollTop-E.y:v.scrollTop-N.y,h.y&&v.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,ve(ke(u,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}St.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=un,onActivation:o}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Wt(e){return!!(e&&"distance"in e)}function Yt(e){return!!(e&&"delay"in e)}class Rt{constructor(t,n,r){var o;r===void 0&&(r=fr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:i}=s;this.props=t,this.events=n,this.document=me(i),this.documentListeners=new je(this.document),this.listeners=new je(r),this.windowListeners=new je(B(i)),this.initialCoordinates=(o=bt(s))!=null?o:q,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Y.Resize,this.handleCancel),this.windowListeners.add(Y.DragStart,$t),this.windowListeners.add(Y.VisibilityChange,this.handleCancel),this.windowListeners.add(Y.ContextMenu,$t),this.documentListeners.add(Y.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Yt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Wt(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Y.Click,hr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Y.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:l}}=s;if(!o)return;const c=(n=bt(t))!=null?n:q,d=ke(o,c);if(!r&&l){if(Wt(l)){if(l.tolerance!=null&&dt(d,l.tolerance))return this.handleCancel();if(dt(d,l.distance))return this.handleStart()}return Yt(l)&&dt(d,l.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===D.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const br={move:{name:"pointermove"},end:{name:"pointerup"}};class Et extends Rt{constructor(t){const{event:n}=t,r=me(n.target);super(t,br,r)}}Et.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const vr={move:{name:"mousemove"},end:{name:"mouseup"}};var pt;(function(e){e[e.RightClick=2]="RightClick"})(pt||(pt={}));class pr extends Rt{constructor(t){super(t,vr,me(t.event.target))}}pr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===pt.RightClick?!1:(r==null||r({event:n}),!0)}}];const ft={move:{name:"touchmove"},end:{name:"touchend"}};class dn extends Rt{constructor(t){super(t,ft)}static setup(){return window.addEventListener(ft.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ft.move.name,t)};function t(){}}}dn.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ae;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ae||(Ae={}));var Qe;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qe||(Qe={}));function mr(e){let{acceleration:t,activator:n=Ae.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:l=Qe.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:f,delta:u,threshold:g}=e;const h=yr({delta:u,disabled:!s}),[m,v]=An(),p=a.useRef({x:0,y:0}),x=a.useRef({x:0,y:0}),w=a.useMemo(()=>{switch(n){case Ae.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ae.DraggableRect:return o}},[n,o,c]),y=a.useRef(null),S=a.useCallback(()=>{const N=y.current;if(!N)return;const C=p.current.x*x.current.x,R=p.current.y*x.current.y;N.scrollBy(C,R)},[]),E=a.useMemo(()=>l===Qe.TreeOrder?[...d].reverse():d,[l,d]);a.useEffect(()=>{if(!s||!d.length||!w){v();return}for(const N of E){if((r==null?void 0:r(N))===!1)continue;const C=d.indexOf(N),R=f[C];if(!R)continue;const{direction:j,speed:T}=ir(N,R,w,t,g);for(const I of["x","y"])h[I][j[I]]||(T[I]=0,j[I]=0);if(T.x>0||T.y>0){v(),y.current=N,m(S,i),p.current=T,x.current=j;return}}p.current={x:0,y:0},x.current={x:0,y:0},v()},[t,S,r,v,s,i,JSON.stringify(w),JSON.stringify(h),m,d,E,f,JSON.stringify(g)])}const xr={x:{[k.Backward]:!1,[k.Forward]:!1},y:{[k.Backward]:!1,[k.Forward]:!1}};function yr(e){let{delta:t,disabled:n}=e;const r=gt(t);return Fe(o=>{if(n||!r||!o)return xr;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[k.Backward]:o.x[k.Backward]||s.x===-1,[k.Forward]:o.x[k.Forward]||s.x===1},y:{[k.Backward]:o.y[k.Backward]||s.y===-1,[k.Forward]:o.y[k.Forward]||s.y===1}}},[n,t,r])}function wr(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Fe(o=>{var s;return t===null?null:(s=r??o)!=null?s:null},[r,t])}function Cr(e,t){return a.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}var ze;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ze||(ze={}));var mt;(function(e){e.Optimized="optimized"})(mt||(mt={}));const Ut=new Map;function Dr(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,i]=a.useState(null),{frequency:l,measure:c,strategy:d}=o,f=a.useRef(e),u=p(),g=Te(u),h=a.useCallback(function(x){x===void 0&&(x=[]),!g.current&&i(w=>w===null?x:w.concat(x.filter(y=>!w.includes(y))))},[g]),m=a.useRef(null),v=Fe(x=>{if(u&&!n)return Ut;if(!x||x===Ut||f.current!==e||s!=null){const w=new Map;for(let y of e){if(!y)continue;if(s&&s.length>0&&!s.includes(y.id)&&y.rect.current){w.set(y.id,y.rect.current);continue}const S=y.node.current,E=S?new Dt(c(S),S):null;y.rect.current=E,E&&w.set(y.id,E)}return w}return x},[e,s,n,u,c]);return a.useEffect(()=>{f.current=e},[e]),a.useEffect(()=>{u||h()},[n,u]),a.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),a.useEffect(()=>{u||typeof l!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},l))},[l,u,h,...r]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:s!=null};function p(){switch(d){case ze.Always:return!1;case ze.BeforeDragging:return n;default:return!n}}}function fn(e,t){return Fe(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Sr(e,t){return fn(e,t)}function Rr(e){let{callback:t,disabled:n}=e;const r=wt(t),o=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return a.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ot(e){let{callback:t,disabled:n}=e;const r=wt(t),o=a.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return a.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Er(e){return new Dt(xe(e),e)}function Xt(e,t,n){t===void 0&&(t=Er);const[r,o]=a.useReducer(l,null),s=Rr({callback(c){if(e)for(const d of c){const{type:f,target:u}=d;if(f==="childList"&&u instanceof HTMLElement&&u.contains(e)){o();break}}}}),i=ot({callback:o});return V(()=>{o(),e?(i==null||i.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),s==null||s.disconnect())},[e]),r;function l(c){if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f}}function Nr(e){const t=fn(e);return nn(e,t)}const Kt=[];function Mr(e){const t=a.useRef(e),n=Fe(r=>e?r&&r!==Kt&&e&&t.current&&e.parentNode===t.current.parentNode?r:rt(e):Kt,[e]);return a.useEffect(()=>{t.current=e},[e]),n}function Ir(e){const[t,n]=a.useState(null),r=a.useRef(e),o=a.useCallback(s=>{const i=ut(s.target);i&&n(l=>l?(l.set(i,vt(i)),new Map(l)):null)},[]);return a.useEffect(()=>{const s=r.current;if(e!==s){i(s);const l=e.map(c=>{const d=ut(c);return d?(d.addEventListener("scroll",o,{passive:!0}),[d,vt(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(s)};function i(l){l.forEach(c=>{const d=ut(c);d==null||d.removeEventListener("scroll",o)})}},[o,e]),a.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>ve(s,i),q):cn(e):q,[e,t])}function _t(e,t){t===void 0&&(t=[]);const n=a.useRef(null);return a.useEffect(()=>{n.current=null},t),a.useEffect(()=>{const r=e!==q;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?ke(e,n.current):q}function jr(e){a.useEffect(()=>{if(!nt)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ar(e,t){return a.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,t)},n},{}),[e,t])}function hn(e){return a.useMemo(()=>e?nr(e):null,[e])}const ht=[];function Or(e,t){t===void 0&&(t=xe);const[n]=e,r=hn(n?B(n):null),[o,s]=a.useReducer(l,ht),i=ot({callback:s});return e.length>0&&o===ht&&s(),V(()=>{e.length?e.forEach(c=>i==null?void 0:i.observe(c)):(i==null||i.disconnect(),s())},[e]),o;function l(){return e.length?e.map(c=>an(c)?r:new Dt(t(c),c)):ht}}function Tr(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Be(t)?t:e}function kr(e){let{measure:t}=e;const[n,r]=a.useState(null),o=a.useCallback(d=>{for(const{target:f}of d)if(Be(f)){r(u=>{const g=t(f);return u?{...u,width:g.width,height:g.height}:g});break}},[t]),s=ot({callback:o}),i=a.useCallback(d=>{const f=Tr(d);s==null||s.disconnect(),f&&(s==null||s.observe(f)),r(f?t(f):null)},[t,s]),[l,c]=Ze(i);return a.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const Lr=[{sensor:Et,options:{}},{sensor:St,options:{}}],zr={current:{}},Ge={draggable:{measure:Pt},droppable:{measure:Pt,strategy:ze.WhileDragging,frequency:mt.Optimized},dragOverlay:{measure:xe}};class Oe extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Br={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Oe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Je},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ge,measureDroppableContainers:Je,windowRect:null,measuringScheduled:!1},Fr={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Je,draggableNodes:new Map,over:null,measureDroppableContainers:Je},st=a.createContext(Fr),gn=a.createContext(Br);function Hr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Oe}}}function Pr(e,t){switch(t.type){case O.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case O.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case O.DragEnd:case O.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case O.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Oe(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case O.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Oe(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case O.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Oe(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function $r(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=a.useContext(st),s=gt(r),i=gt(n==null?void 0:n.id);return a.useEffect(()=>{if(!t&&!r&&s&&i!=null){if(!Ct(s)||document.activeElement===s.target)return;const l=o.get(i);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[c.current,d.current]){if(!f)continue;const u=kn(f);if(u){u.focus();break}}})}},[r,t,o,i,s]),null}function Wr(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function Yr(e){return a.useMemo(()=>({draggable:{...Ge.draggable,...e==null?void 0:e.draggable},droppable:{...Ge.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Ge.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ur(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=a.useRef(!1),{x:i,y:l}=typeof o=="boolean"?{x:o,y:o}:o;V(()=>{if(!i&&!l||!t){s.current=!1;return}if(s.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const f=n(d),u=nn(f,r);if(i||(u.x=0),l||(u.y=0),s.current=!0,Math.abs(u.x)>0||Math.abs(u.y)>0){const g=rn(d);g&&g.scrollBy({top:u.y,left:u.x})}},[t,i,l,r,n])}const bn=a.createContext({...q,scaleX:1,scaleY:1});var ie;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ie||(ie={}));const Xr=a.memo(function(t){var n,r,o,s;let{id:i,accessibility:l,autoScroll:c=!0,children:d,sensors:f=Lr,collisionDetection:u=qn,measuring:g,modifiers:h,...m}=t;const v=a.useReducer(Pr,void 0,Hr),[p,x]=v,[w,y]=Pn(),[S,E]=a.useState(ie.Uninitialized),N=S===ie.Initialized,{draggable:{active:C,nodes:R,translate:j},droppable:{containers:T}}=p,I=C?R.get(C):null,U=a.useRef({initial:null,translated:null}),X=a.useMemo(()=>{var L;return C!=null?{id:C,data:(L=I==null?void 0:I.data)!=null?L:zr,rect:U}:null},[C,I]),G=a.useRef(null),[ye,Pe]=a.useState(null),[F,$e]=a.useState(null),ae=Te(m,Object.values(m)),we=He("DndDescribedBy",i),We=a.useMemo(()=>T.getEnabled(),[T]),z=Yr(g),{droppableRects:Q,measureDroppableContainers:le,measuringScheduled:Ce}=Dr(We,{dragging:N,dependencies:[j.x,j.y],config:z.droppable}),$=wr(R,C),Ye=a.useMemo(()=>F?bt(F):null,[F]),ne=Mn(),ee=Sr($,z.draggable.measure);Ur({activeNode:C?R.get(C):null,config:ne.layoutShiftCompensation,initialRect:ee,measure:z.draggable.measure});const M=Xt($,z.draggable.measure,ee),De=Xt($?$.parentElement:null),Z=a.useRef({activatorEvent:null,active:null,activeNode:$,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ce=T.getNodeFor((n=Z.current.over)==null?void 0:n.id),te=kr({measure:z.dragOverlay.measure}),ue=(r=te.nodeRef.current)!=null?r:$,de=N?(o=te.rect)!=null?o:M:null,Mt=!!(te.nodeRef.current&&te.rect),It=Nr(Mt?null:M),it=hn(ue?B(ue):null),re=Mr(N?ce??$:null),Ue=Or(re),Xe=Wr(h,{transform:{x:j.x-It.x,y:j.y-It.y,scaleX:1,scaleY:1},activatorEvent:F,active:X,activeNodeRect:M,containerNodeRect:De,draggingNodeRect:de,over:Z.current.over,overlayNodeRect:te.rect,scrollableAncestors:re,scrollableAncestorRects:Ue,windowRect:it}),jt=Ye?ve(Ye,j):null,At=Ir(re),wn=_t(At),Cn=_t(At,[M]),fe=ve(Xe,wn),he=de?Jn(de,Xe):null,Se=X&&he?u({active:X,collisionRect:he,droppableRects:Q,droppableContainers:We,pointerCoordinates:jt}):null,Ot=tn(Se,"id"),[oe,Tt]=a.useState(null),Dn=Mt?Xe:ve(Xe,Cn),Sn=Gn(Dn,(s=oe==null?void 0:oe.rect)!=null?s:null,M),kt=a.useCallback((L,H)=>{let{sensor:P,options:se}=H;if(G.current==null)return;const W=R.get(G.current);if(!W)return;const K=L.nativeEvent,J=new P({active:G.current,activeNode:W,event:K,options:se,context:Z,onStart(_){const Re=G.current;if(Re==null)return;const Ee=R.get(Re);if(!Ee)return;const{onDragStart:Ke}=ae.current,_e={active:{id:Re,data:Ee.data,rect:U}};be.unstable_batchedUpdates(()=>{Ke==null||Ke(_e),E(ie.Initializing),x({type:O.DragStart,initialCoordinates:_,active:Re}),w({type:"onDragStart",event:_e})})},onMove(_){x({type:O.DragMove,coordinates:_})},onEnd:ge(O.DragEnd),onCancel:ge(O.DragCancel)});be.unstable_batchedUpdates(()=>{Pe(J),$e(L.nativeEvent)});function ge(_){return async function(){const{active:Ee,collisions:Ke,over:_e,scrollAdjustedTranslate:zt}=Z.current;let Ne=null;if(Ee&&zt){const{cancelDrop:Me}=ae.current;Ne={activatorEvent:K,active:Ee,collisions:Ke,delta:zt,over:_e},_===O.DragEnd&&typeof Me=="function"&&await Promise.resolve(Me(Ne))&&(_=O.DragCancel)}G.current=null,be.unstable_batchedUpdates(()=>{x({type:_}),E(ie.Uninitialized),Tt(null),Pe(null),$e(null);const Me=_===O.DragEnd?"onDragEnd":"onDragCancel";if(Ne){const at=ae.current[Me];at==null||at(Ne),w({type:Me,event:Ne})}})}}},[R]),Rn=a.useCallback((L,H)=>(P,se)=>{const W=P.nativeEvent,K=R.get(se);if(G.current!==null||!K||W.dndKit||W.defaultPrevented)return;const J={active:K};L(P,H.options,J)===!0&&(W.dndKit={capturedBy:H.sensor},G.current=se,kt(P,H))},[R,kt]),Lt=Cr(f,Rn);jr(f),V(()=>{M&&S===ie.Initializing&&E(ie.Initialized)},[M,S]),a.useEffect(()=>{const{onDragMove:L}=ae.current,{active:H,activatorEvent:P,collisions:se,over:W}=Z.current;if(!H||!P)return;const K={active:H,activatorEvent:P,collisions:se,delta:{x:fe.x,y:fe.y},over:W};be.unstable_batchedUpdates(()=>{L==null||L(K),w({type:"onDragMove",event:K})})},[fe.x,fe.y]),a.useEffect(()=>{const{active:L,activatorEvent:H,collisions:P,droppableContainers:se,scrollAdjustedTranslate:W}=Z.current;if(!L||G.current==null||!H||!W)return;const{onDragOver:K}=ae.current,J=se.get(Ot),ge=J&&J.rect.current?{id:J.id,rect:J.rect.current,data:J.data,disabled:J.disabled}:null,_={active:L,activatorEvent:H,collisions:P,delta:{x:W.x,y:W.y},over:ge};be.unstable_batchedUpdates(()=>{Tt(ge),K==null||K(_),w({type:"onDragOver",event:_})})},[Ot]),V(()=>{Z.current={activatorEvent:F,active:X,activeNode:$,collisionRect:he,collisions:Se,droppableRects:Q,draggableNodes:R,draggingNode:ue,draggingNodeRect:de,droppableContainers:T,over:oe,scrollableAncestors:re,scrollAdjustedTranslate:fe},U.current={initial:de,translated:he}},[X,$,Se,he,R,ue,de,Q,T,oe,re,fe]),mr({...ne,delta:j,draggingRect:he,pointerCoordinates:jt,scrollableAncestors:re,scrollableAncestorRects:Ue});const En=a.useMemo(()=>({active:X,activeNode:$,activeNodeRect:M,activatorEvent:F,collisions:Se,containerNodeRect:De,dragOverlay:te,draggableNodes:R,droppableContainers:T,droppableRects:Q,over:oe,measureDroppableContainers:le,scrollableAncestors:re,scrollableAncestorRects:Ue,measuringConfiguration:z,measuringScheduled:Ce,windowRect:it}),[X,$,M,F,Se,De,te,R,T,Q,oe,le,re,Ue,z,Ce,it]),Nn=a.useMemo(()=>({activatorEvent:F,activators:Lt,active:X,activeNodeRect:M,ariaDescribedById:{draggable:we},dispatch:x,draggableNodes:R,over:oe,measureDroppableContainers:le}),[F,Lt,X,M,x,we,R,oe,le]);return A.createElement(Jt.Provider,{value:y},A.createElement(st.Provider,{value:Nn},A.createElement(gn.Provider,{value:En},A.createElement(bn.Provider,{value:Sn},d)),A.createElement($r,{disabled:(l==null?void 0:l.restoreFocus)===!1})),A.createElement(Yn,{...l,hiddenTextDescribedById:we}));function Mn(){const L=(ye==null?void 0:ye.autoScrollEnabled)===!1,H=typeof c=="object"?c.enabled===!1:c===!1,P=N&&!L&&!H;return typeof c=="object"?{...c,enabled:P}:{enabled:P}}}),Kr=a.createContext(null),Vt="button",_r="Droppable";function Vr(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=He(_r),{activators:i,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:f,draggableNodes:u,over:g}=a.useContext(st),{role:h=Vt,roleDescription:m="draggable",tabIndex:v=0}=o??{},p=(c==null?void 0:c.id)===t,x=a.useContext(p?bn:Kr),[w,y]=Ze(),[S,E]=Ze(),N=Ar(i,t),C=Te(n);V(()=>(u.set(t,{id:t,key:s,node:w,activatorNode:S,data:C}),()=>{const j=u.get(t);j&&j.key===s&&u.delete(t)}),[u,t]);const R=a.useMemo(()=>({role:h,tabIndex:v,"aria-disabled":r,"aria-pressed":p&&h===Vt?!0:void 0,"aria-roledescription":m,"aria-describedby":f.draggable}),[r,h,v,p,m,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:R,isDragging:p,listeners:r?void 0:N,node:w,over:g,setNodeRef:y,setActivatorNodeRef:E,transform:x}}function qr(){return a.useContext(gn)}const Gr="Droppable",Zr={timeout:25};function Jr(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=He(Gr),{active:i,dispatch:l,over:c,measureDroppableContainers:d}=a.useContext(st),f=a.useRef({disabled:n}),u=a.useRef(!1),g=a.useRef(null),h=a.useRef(null),{disabled:m,updateMeasurementsFor:v,timeout:p}={...Zr,...o},x=Te(v??r),w=a.useCallback(()=>{if(!u.current){u.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),h.current=null},p)},[p]),y=ot({callback:w,disabled:m||!i}),S=a.useCallback((R,j)=>{y&&(j&&(y.unobserve(j),u.current=!1),R&&y.observe(R))},[y]),[E,N]=Ze(S),C=Te(t);return a.useEffect(()=>{!y||!E.current||(y.disconnect(),u.current=!1,y.observe(E.current))},[E,y]),V(()=>(l({type:O.RegisterDroppable,element:{id:r,key:s,disabled:n,node:E,rect:g,data:C}}),()=>l({type:O.UnregisterDroppable,key:s,id:r})),[r]),a.useEffect(()=>{n!==f.current.disabled&&(l({type:O.SetDroppableDisabled,id:r,key:s,disabled:n}),f.current.disabled=n)},[r,s,n,l]),{active:i,rect:g,isOver:(c==null?void 0:c.id)===r,node:E,over:c,setNodeRef:N}}function Nt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Qr(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function Ve(e){return e!==null&&e>=0}function eo(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function to(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const vn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=Nt(t,r,n),i=t[o],l=s[o];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},qe={scaleX:1,scaleY:1},no=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:i}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(o===n){const d=s[i];return d?{x:0,y:n<i?d.top+d.height-(l.top+l.height):d.top-l.top,...qe}:null}const c=ro(s,o,n);return o>n&&o<=i?{x:0,y:-l.height-c,...qe}:o<n&&o>=i?{x:0,y:l.height+c,...qe}:{x:0,y:0,...qe}};function ro(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const pn="Sortable",mn=A.createContext({activeIndex:-1,containerId:pn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vn,disabled:{draggable:!1,droppable:!1}});function oo(e){let{children:t,id:n,items:r,strategy:o=vn,disabled:s=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:f}=qr(),u=He(pn,n),g=l.rect!==null,h=a.useMemo(()=>r.map(N=>typeof N=="object"&&"id"in N?N.id:N),[r]),m=i!=null,v=i?h.indexOf(i.id):-1,p=d?h.indexOf(d.id):-1,x=a.useRef(h),w=!eo(h,x.current),y=p!==-1&&v===-1||w,S=to(s);V(()=>{w&&m&&f(h)},[w,h,m,f]),a.useEffect(()=>{x.current=h},[h]);const E=a.useMemo(()=>({activeIndex:v,containerId:u,disabled:S,disableTransforms:y,items:h,overIndex:p,useDragOverlay:g,sortedRects:Qr(h,c),strategy:o}),[v,u,S.draggable,S.droppable,y,h,p,c,g,o]);return A.createElement(mn.Provider,{value:E},t)}const so=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Nt(n,r,o).indexOf(t)},io=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:i,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!r||l!==s&&o===i?!1:n?!0:i!==o&&t===c},ao={duration:200,easing:"ease"},xn="transform",lo=Le.Transition.toString({property:xn,duration:0,easing:"linear"}),co={roleDescription:"sortable"};function uo(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,i]=a.useState(null),l=a.useRef(n);return V(()=>{if(!t&&n!==l.current&&r.current){const c=o.current;if(c){const d=xe(r.current,{ignoreTransform:!0}),f={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(f.x||f.y)&&i(f)}}n!==l.current&&(l.current=n)},[t,n,r,o]),a.useEffect(()=>{s&&i(null)},[s]),s}function fo(e){let{animateLayoutChanges:t=io,attributes:n,disabled:r,data:o,getNewIndex:s=so,id:i,strategy:l,resizeObserverConfig:c,transition:d=ao}=e;const{items:f,containerId:u,activeIndex:g,disabled:h,disableTransforms:m,sortedRects:v,overIndex:p,useDragOverlay:x,strategy:w}=a.useContext(mn),y=ho(r,h),S=f.indexOf(i),E=a.useMemo(()=>({sortable:{containerId:u,index:S,items:f},...o}),[u,o,S,f]),N=a.useMemo(()=>f.slice(f.indexOf(i)),[f,i]),{rect:C,node:R,isOver:j,setNodeRef:T}=Jr({id:i,data:E,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:I,activatorEvent:U,activeNodeRect:X,attributes:G,setNodeRef:ye,listeners:Pe,isDragging:F,over:$e,setActivatorNodeRef:ae,transform:we}=Vr({id:i,data:E,attributes:{...co,...n},disabled:y.draggable}),We=jn(T,ye),z=!!I,Q=z&&!m&&Ve(g)&&Ve(p),le=!x&&F,Ce=le&&Q?we:null,Ye=Q?Ce??(l??w)({rects:v,activeNodeRect:X,activeIndex:g,overIndex:p,index:S}):null,ne=Ve(g)&&Ve(p)?s({id:i,items:f,activeIndex:g,overIndex:p}):S,ee=I==null?void 0:I.id,M=a.useRef({activeId:ee,items:f,newIndex:ne,containerId:u}),De=f!==M.current.items,Z=t({active:I,containerId:u,isDragging:F,isSorting:z,id:i,index:S,items:f,newIndex:M.current.newIndex,previousItems:M.current.items,previousContainerId:M.current.containerId,transition:d,wasDragging:M.current.activeId!=null}),ce=uo({disabled:!Z,index:S,node:R,rect:C});return a.useEffect(()=>{z&&M.current.newIndex!==ne&&(M.current.newIndex=ne),u!==M.current.containerId&&(M.current.containerId=u),f!==M.current.items&&(M.current.items=f)},[z,ne,u,f]),a.useEffect(()=>{if(ee===M.current.activeId)return;if(ee&&!M.current.activeId){M.current.activeId=ee;return}const ue=setTimeout(()=>{M.current.activeId=ee},50);return()=>clearTimeout(ue)},[ee]),{active:I,activeIndex:g,attributes:G,data:E,rect:C,index:S,newIndex:ne,items:f,isOver:j,isSorting:z,isDragging:F,listeners:Pe,node:R,overIndex:p,over:$e,setNodeRef:We,setActivatorNodeRef:ae,setDroppableNodeRef:T,setDraggableNodeRef:ye,transform:ce??Ye,transition:te()};function te(){if(ce||De&&M.current.newIndex===S)return lo;if(!(le&&!Ct(U)||!d)&&(z||Z))return Le.Transition.toString({...d,property:xn})}}function ho(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function et(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const go=[D.Down,D.Right,D.Up,D.Left],bo=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:s,over:i,scrollableAncestors:l}}=t;if(go.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(u=>{if(!u||u!=null&&u.disabled)return;const g=o.get(u.id);if(g)switch(e.code){case D.Down:r.top<g.top&&c.push(u);break;case D.Up:r.top>g.top&&c.push(u);break;case D.Left:r.left>g.left&&c.push(u);break;case D.Right:r.left<g.left&&c.push(u);break}});const d=_n({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let f=tn(d,"id");if(f===(i==null?void 0:i.id)&&d.length>1&&(f=d[1].id),f!=null){const u=s.get(n.id),g=s.get(f),h=g?o.get(g.id):null,m=g==null?void 0:g.node.current;if(m&&h&&u&&g){const p=rt(m).some((N,C)=>l[C]!==N),x=yn(u,g),w=vo(u,g),y=p||!x?{x:0,y:0}:{x:w?r.width-h.width:0,y:w?r.height-h.height:0},S={x:h.left,y:h.top};return y.x&&y.y?S:ke(S,y)}}}};function yn(e,t){return!et(e)||!et(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function vo(e,t){return!et(e)||!et(t)||!yn(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function po(e){return qt({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2.49998 4.09998C2.27906 4.09998 2.09998 4.27906 2.09998 4.49998C2.09998 4.72089 2.27906 4.89998 2.49998 4.89998H12.5C12.7209 4.89998 12.9 4.72089 12.9 4.49998C12.9 4.27906 12.7209 4.09998 12.5 4.09998H2.49998ZM2.49998 6.09998C2.27906 6.09998 2.09998 6.27906 2.09998 6.49998C2.09998 6.72089 2.27906 6.89998 2.49998 6.89998H12.5C12.7209 6.89998 12.9 6.72089 12.9 6.49998C12.9 6.27906 12.7209 6.09998 12.5 6.09998H2.49998ZM2.09998 8.49998C2.09998 8.27906 2.27906 8.09998 2.49998 8.09998H12.5C12.7209 8.09998 12.9 8.27906 12.9 8.49998C12.9 8.72089 12.7209 8.89998 12.5 8.89998H2.49998C2.27906 8.89998 2.09998 8.72089 2.09998 8.49998ZM2.49998 10.1C2.27906 10.1 2.09998 10.2791 2.09998 10.5C2.09998 10.7209 2.27906 10.9 2.49998 10.9H12.5C12.7209 10.9 12.9 10.7209 12.9 10.5C12.9 10.2791 12.7209 10.1 12.5 10.1H2.49998Z",fill:"currentColor"},child:[]}]})(e)}function mo(e){return qt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function xo(e){const t=tt(),{attributes:n,listeners:r,setNodeRef:o,transform:s,transition:i}=fo({id:e.id,disabled:e.disabled});async function l(u){u.preventDefault(),await t.toggle(e.id),await t.load()}async function c(){t.setEditing(!0,e.id)}function d(){const u=!e.days||e.days[t.currentDayOfWeek];return e.disabled===!0&&u===!1}const f={transform:Le.Transform.toString(s),transition:i};return d()?"":b.jsx("div",{ref:o,style:f,...n,children:b.jsxs("div",{className:"flex w-full bg-white text-gray-800 py-2 px-4 border border-gray-400 rounded shadow habit-item disable-touch",children:[b.jsx("div",{...r,className:"w-8 mr-2",children:e.disabled?"":b.jsx(po,{className:"mt-1 size-6"})}),b.jsx("div",{className:"w-5/6 mt-0.5",children:e.name}),b.jsx("div",{className:"w-1/6 text-right",children:b.jsxs("div",{className:"flex w-full",children:[b.jsx("div",{className:"w-2/4"}),b.jsx("div",{className:"w-2/4",children:e.disabled?b.jsx("input",{type:"checkbox",name:`habit-${e.id}`,checked:e.status,onChange:l,className:"w-4 h-4 mt-2"}):b.jsx(mo,{className:"mt-1 size-6",onClick:c})})]})})]})})}const yo={Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday",Sun:"Sunday"};function wo(){const e=tt(),[t,n]=A.useState(""),[r,o]=A.useState(""),[s,i]=A.useState({...Ie});function l(){e.setEditing(!1,void 0)}async function c(g){g.preventDefault(),await e.update(t,r,s),await e.load(),e.setEditing(!1,void 0)}async function d(){await e.del(t),await e.load(),e.setEditing(!1,void 0)}function f(g){const h=!s[g.target.dataset.day];i(m=>(m[g.target.dataset.day]=h,{...m}))}function u(g){g.code==="Escape"&&l()}return a.useEffect(()=>{if(e.editing?document.addEventListener("keydown",u):document.removeEventListener("keydown",u),e.editing&&e.currentlyEditing){n(e.currentlyEditing.id),o(e.currentlyEditing.name);let g=!0;if(e.currentlyEditing.days)for(const h of Object.values(e.currentlyEditing.days))h||(g=!1);i(g?{...Ie}:{...e.currentlyEditing.days})}},[e.editing]),b.jsxs("div",{className:`relative z-10${e.editing?" visible":" invisible"}`,"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true","data-sentry-component":"HabitEdit","data-sentry-source-file":"habit-edit.tsx",children:[b.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),b.jsx("form",{onSubmit:c,className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:b.jsx("div",{className:"flex min-h-full items-baseline justify-center p-4 text-center sm:items-baseline sm:p-0",children:b.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[b.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:b.jsxs("div",{className:"sm:flex sm:items-start",children:[b.jsx("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10",children:b.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","data-sentry-element":"svg","data-sentry-source-file":"habit-edit.tsx",children:b.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z","data-sentry-element":"path","data-sentry-source-file":"habit-edit.tsx"})})}),b.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[b.jsx("h3",{className:"text-base font-semibold leading-6 text-gray-900",id:"modal-title",children:"Edit habit"}),b.jsxs("div",{className:"mt-2",children:[b.jsx("input",{autoComplete:"off",name:"name",type:"text",className:"block w-96 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-normal focus:outline-none focus:shadow-outline",value:r,onChange:g=>o(g.target.value)}),b.jsx("ul",{className:"grid w-full grid-cols-2 gap-2 mt-5",children:Object.keys(s).map(g=>b.jsx("li",{children:b.jsx("span",{"data-day":g,onClick:f,className:`inline-flex items-center justify-center w-full p-2 text-sm font-medium text-center border rounded-lg cursor-pointer text-blue-600 border-blue-600${s[g]?" text-white bg-blue-500":" bg-white"}`,children:yo[g]})},g))})]})]})]})}),b.jsxs("div",{className:"flex bg-gray-50 px-4 py-3 px-6",children:[b.jsxs("div",{className:"w-full",children:[b.jsx("button",{type:"submit",className:"mr-1 bg-blue-500 hover:bg-blue-700 mt-3 inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold shadow-sm ring-1 ring-inset sm:mt-0 sm:w-auto text-white",children:"Save"}),b.jsx("button",{type:"button",onClick:l,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",children:"Cancel"})]}),b.jsx("div",{className:"w-full text-right",children:b.jsx("button",{type:"button",onClick:d,className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto sm:mt-0 sm-ml-0 ml-2 mt-3",children:"Delete"})})]})]})})})]})}function Co(){const e=tt(),[t,n]=A.useState(""),[r,o]=A.useState(!1);async function s(i){i.preventDefault(),o(!0),await e.createNote(t),await e.loadNote(),await new Promise(l=>{setTimeout(l,500)}),o(!1)}return a.useEffect(()=>{n(e.note)},[e.note]),b.jsxs("div",{className:"mt-8","data-sentry-component":"CommentBox","data-sentry-source-file":"comment-box.tsx",children:[b.jsx("hr",{}),b.jsx("form",{onSubmit:s,children:b.jsxs("div",{className:"w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 mt-8",children:[b.jsx("div",{className:"px-4 py-2 bg-white rounded-t-lg",children:b.jsx("textarea",{name:"note",rows:4,className:"peer h-full min-h-[100px] w-full resize-none border-b border-blue-gray-200 bg-transparent pt-4 pb-1.5 font-sans text-md font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border-blue-gray-200 focus:border-gray-900 focus:outline-0 disabled:resize-none disabled:border-0 disabled:bg-blue-gray-50",placeholder:"Leave a note about today's progress for future reflection.",required:!0,value:t,onChange:i=>n(i.target.value)})}),b.jsx("div",{className:"flex items-center justify-between px-3 py-2 border-t",children:r?b.jsxs("button",{disabled:!0,type:"button",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 ml-1 mt-1 rounded focus:outline-none focus:shadow-outline",children:[b.jsxs("svg",{"aria-hidden":"true",role:"status",className:"inline w-4 h-4 me-3 text-white animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),b.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})]}),"Saving..."]}):b.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 ml-1 mt-1 rounded focus:outline-none focus:shadow-outline",children:"Leave note"})})]})})]})}const Do={Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Sun:"Sun"};function Mo(){const e=tt(),[t,n]=a.useState(!0),[r,o]=a.useState(!1),s=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"2-digit"}),[i,l]=A.useState({...Ie}),c=Un(ct(Et),ct(dn),ct(St,{coordinateGetter:bo}));a.useEffect(()=>{t&&(e.load(),n(!1))}),a.useEffect(()=>{e.empty&&o(!0)},[e.empty]),a.useEffect(()=>{r&&l({...Ie})},[r]);async function d(h){h.preventDefault();const m=h.target.name.value;await e.create(m,i),await e.load(),l({...Ie}),h.target.reset()}function f(h){o(!r)}async function u(h){const{active:m,over:v}=h,p=e.habits.findIndex(w=>w.habit_id===m.id),x=e.habits.findIndex(w=>w.habit_id===v.id);x>p&&x>=e.habits.length&&e.habits.length-1,p!==x&&(e.set({habits:Nt(e.habits,p,x),current_dow:e.currentDayOfWeek}),await e.move(p,x),await e.load())}function g(h){const m=!i[h.target.dataset.day];l(v=>(v[h.target.dataset.day]=m,{...v}))}return b.jsx(a.Suspense,{"data-sentry-element":"Suspense","data-sentry-component":"Habits","data-sentry-source-file":"habits.tsx",children:b.jsxs(In,{resolve:e,"data-sentry-element":"Await","data-sentry-source-file":"habits.tsx",children:[b.jsx(wo,{"data-sentry-element":"HabitEdit","data-sentry-source-file":"habits.tsx"}),b.jsx("div",{className:"p-2",children:b.jsx("div",{className:"flex items-center justify-center",children:b.jsx("h1",{className:"text-1xl font-extrabold mb-1",children:r||e.empty?"Add / edit habits":s})})}),e.empty?b.jsx("div",{className:"border-dashed border-2 border-slate-100 grid p-10",children:b.jsx("div",{className:"flex items-center justify-center",children:b.jsxs("p",{children:["You have not yet created your first daily habit. Enter a daily habit that you would like to start keeping into the text box below and click",b.jsx("span",{className:"text-xs	bg-blue-500 ml-2 text-white font-bold py-1 px-2 rounded whitespace-nowrap",children:"Add Habit"})]})})}):"",b.jsx(Xr,{sensors:c,collisionDetection:Kn,onDragEnd:u,"data-sentry-element":"DndContext","data-sentry-source-file":"habits.tsx",children:b.jsx(oo,{items:e.habits,strategy:no,"data-sentry-element":"SortableContext","data-sentry-source-file":"habits.tsx",children:e.habits.map(h=>b.jsx(xo,{name:h.name,id:h.habit_id,status:h.status,days:h.days,disabled:!r},h.habit_id))})}),r||e.empty?b.jsxs("form",{onSubmit:d,children:[b.jsxs("div",{className:"flex w-full",children:[b.jsx("div",{className:"w-4/6 mt-1",children:b.jsx("input",{autoComplete:"off",name:"name",type:"text",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-normal focus:outline-none focus:shadow-outline"})}),b.jsx("input",{type:"submit",value:"Add Habit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 ml-1 mt-1 rounded focus:outline-none focus:shadow-outline w-2/6"})]}),b.jsx("ul",{className:"flex w-full",children:Object.keys(i).map((h,m)=>b.jsx("li",{"data-day":h,onClick:g,className:`p-1 ${m===0?"":"ml-1"} text-sm font-medium text-center border rounded-lg cursor-pointer text-blue-600 border-blue-600${i[h]?" text-white bg-blue-500":" bg-white"}`,children:Do[h]},h))})]}):"",b.jsxs("label",{className:"mt-3 inline-flex items-center cursor-pointer",children:[b.jsx("input",{type:"checkbox",name:"toggle-edit",value:"",className:"sr-only peer",checked:r||e.empty,onChange:f}),b.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"}),b.jsx("span",{className:"ms-3 text-base font-medium text-gray-900",children:"Add / edit habits"})]}),r||e.empty?"":b.jsx(Co,{})]})})}export{Mo as default};
//# sourceMappingURL=habits-DTjRFp_L.js.map
