import{r as n,j as l}from"./jsx-runtime-Rlbb8XBc.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="5c16b938-1881-4b80-a26b-99ae6f789697",s._sentryDebugIdIdentifier="sentry-dbid-5c16b938-1881-4b80-a26b-99ae6f789697")}catch{}})();const d=n.createContext(null);function S({children:s}){const[a,o]=n.useState([]),[c,b]=n.useState(!1),[y,f]=n.useState(!1),r=t=>(o([...t]),b(!t.length),{}),u={habits:a,empty:c,editing:y,setEditing:async t=>{f(t)},load:async()=>{const e=await(await fetch("/v1/habits-daily")).json();e.map(i=>{i.id=i.habit_id}),r(e)},set:r,create:async t=>{await fetch("/v1/habits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})})},toggle:async t=>{const e=a.find(i=>{if(i.id===t)return!0});e&&await fetch("/v1/habits-daily",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({habit_id:e.habit_id,status:!e.status,date:e.date})})},move:async(t,e)=>{await fetch("/v1/habits/array-move",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldIndex:t,newIndex:e})})}};return l.jsx(d.Provider,{value:u,children:s})}function x(){return n.useContext(d)}export{S as H,x as u};
//# sourceMappingURL=habits-BCmBKXzM.js.map
