{"version":3,"file":"index.js","sources":["../../node_modules/@remix-run/dev/dist/config/defaults/entry.server.node.tsx","../../app/styles/shared.css?url","../../app/providers/habits.tsx","../../app/session.server.tsx","../../app/root.tsx","../../app/components/habit-list-item.tsx","../../app/routes/habits.tsx","../../app/routes/login.tsx"],"sourcesContent":["import { PassThrough } from \"node:stream\";\n\nimport type { AppLoadContext, EntryContext } from \"@remix-run/node\";\nimport { createReadableStreamFromReadable } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport * as isbotModule from \"isbot\";\nimport { renderToPipeableStream } from \"react-dom/server\";\n\nconst ABORT_DELAY = 5_000;\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext,\n  loadContext: AppLoadContext\n) {\n  return isBotRequest(request.headers.get(\"user-agent\"))\n    ? handleBotRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      )\n    : handleBrowserRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      );\n}\n\n// We have some Remix apps in the wild already running with isbot@3 so we need\n// to maintain backwards compatibility even though we want new apps to use\n// isbot@4.  That way, we can ship this as a minor Semver update to @remix-run/dev.\nfunction isBotRequest(userAgent: string | null) {\n  if (!userAgent) {\n    return false;\n  }\n\n  // isbot >= 3.8.0, >4\n  if (\"isbot\" in isbotModule && typeof isbotModule.isbot === \"function\") {\n    return isbotModule.isbot(userAgent);\n  }\n\n  // isbot < 3.8.0\n  if (\"default\" in isbotModule && typeof isbotModule.default === \"function\") {\n    return isbotModule.default(userAgent);\n  }\n\n  return false;\n}\n\nfunction handleBotRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onAllReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          // Log streaming rendering errors from inside the shell.  Don't log\n          // errors encountered during initial shell rendering since they'll\n          // reject and get logged in handleDocumentRequest.\n          if (shellRendered) {\n            console.error(error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\nfunction handleBrowserRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onShellReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          // Log streaming rendering errors from inside the shell.  Don't log\n          // errors encountered during initial shell rendering since they'll\n          // reject and get logged in handleDocumentRequest.\n          if (shellRendered) {\n            console.error(error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n","import \"/Users/benjamincoe/oss/happ/app/styles/shared.css?transform-only\";export default \"__VITE_CSS_URL__2f55736572732f62656e6a616d696e636f652f6f73732f686170702f6170702f7374796c65732f7368617265642e6373733f7472616e73666f726d2d6f6e6c79__\"","import * as React from \"react\";\n\nexport interface HabitType {\n  name: string;\n  id: string;\n}\n\ninterface HabitsType {\n  habits: Array<HabitType>; \n  load: () => Promise<void>;\n  create: (type: string) => Promise<void>;\n  set: (habits: Array<HabitType>) => {};\n  remove: (prefix: string, created: number) => Promise<void>;\n}\n\nconst HabitsContext = React.createContext<HabitsType>(null!);\n\nconst HABITS: Array<HabitType> = [\n  {\n    id: 'abc123',\n    name: 'Make my morning coffee'\n  },\n  {\n    id: 'qwerty',\n    name: 'Take Finn for a walk'\n  },\n];\n\nexport function HabitsProvider({ children }: { children: React.ReactNode }) {\n  const [habits, setHabits] =  React.useState<Array<HabitType>>([]);\n\n  const set = (habits: Array<HabitType>) => {\n    setHabits([...habits]);\n    return {}\n  }\n\n  const create = async (type: string) => {\n    /*const body: {type: string; ott?: string} = {\n      ...opts,\n      type,\n    };\n    if (account.ott) {\n      body.ott = account.ott;\n    }\n    const req = await fetch('/_/token', {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    });\n    if (req.status === 200) {\n      const tokenObject = await req.json();\n      flash.set('success', tokenObject.message);\n      account.setOtt(undefined);\n    }\n    // TODO: add error handling with tests.\n    */\n  }\n\n  const remove = async (prefix: string, created: number) => {\n    /*const newTokens = [];\n    for (const token of tokens) {\n      if (token.prefix === prefix && token.created === created) {\n        await fetch('/_/api/v1/token', {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(token)\n        });\n        // TODO: add error handling with tests.\n        continue;\n      } else {\n        newTokens.push(token);\n      }\n    }\n    setTokens([...newTokens]);*/\n  };\n\n  const load = async () => {\n    const resp = await fetch(\"/v1/habits\");\n    console.info(await resp.json());\n    set(HABITS);\n  }\n\n  const value = { habits, load, set, create, remove };\n\n  return <HabitsContext.Provider value={value}>{children}</HabitsContext.Provider>;\n}\n\nexport function useHabits() {\n  return React.useContext(HabitsContext);\n}\n","import { redirect } from \"@remix-run/node\";\nimport 'dotenv/config';\n\n// Session stuff:\nimport { createClient } from 'redis';\nimport RedisStore from 'connect-redis';\nimport session from 'express-session';\n\nconst isTestEnvironment = process.env.NODE_ENV === 'test';\n\ntype SessionObject = {\n  userId?: string;\n}\n\ntype SessionStoreCallback = (sess: SessionObject) => void;\n\ntype ConnectDecoratedReq = {\n  sessionStore?: {\n    get: (id: string, SessionStoreCallback) => void;\n  };\n  sessionID?: string;\n  headers: { [name: string]: string | null },\n  url: string\n}\n\ntype SessionOpts = {\n  resave: boolean;\n  saveUninitialized: boolean;\n  secret?: string;\n  store?: any;\n}\n\nconst sessionOpts: SessionOpts = {\n  resave: false,\n  saveUninitialized: false,\n  secret: process.env.SESSION_SECRET,\n};\nconst sessionPrefix = `happ:${process.env.NODE_ENV}`\nif (!isTestEnvironment) {\n  const redisClient = createClient({\n    url: process.env.REDIS_URL,\n  });\n  const redisStore = new RedisStore({\n    client: redisClient,\n    prefix: sessionPrefix,\n  });\n  redisClient.connect();\n  redisClient.unref();\n  sessionOpts.store = redisStore;\n}\nconst s = session(sessionOpts);\n\nexport async function isLoggedIn(req: Request): Promise<string | undefined> {\n  const connectReq: ConnectDecoratedReq = {\n    headers: {\n      cookie: req.headers.get('cookie')\n    },\n    url: '/'\n  }\n  s(connectReq, {}, () => {});\n  const sess: SessionObject = await new Promise((resolve) => {\n    if (!connectReq.sessionID) return resolve({});\n    if (!connectReq.sessionStore) return resolve({});\n    connectReq.sessionStore.get(connectReq.sessionID, (err, sess: SessionObject) => {\n      if (err || !sess) return resolve({});\n      return resolve(sess);\n    })\n  });\n  return sess.userId;\n}\n\nexport async function requireUserId(\n  req: Request,\n) {\n  if (!await isLoggedIn(req)) {\n    throw redirect('/login');\n  }\n}\n","import React from 'react';\nimport { withSentry, captureRemixErrorBoundaryError } from \"@sentry/remix\";\nimport {\n  Link,\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  useRouteError,\n  useLoaderData,\n} from \"@remix-run/react\";\nimport { json, LinksFunction } from \"@remix-run/node\";\nimport styles from \"./styles/shared.css?url\";\nimport {HabitsProvider} from './providers/habits';\nimport { isLoggedIn } from \"./session.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: styles },\n];\n\ntype LoggedInData = {\n  isLoggedIn: boolean;\n}\n\nexport const loader = async ({request}) => {\n  const userId = await isLoggedIn(request);\n  return json<LoggedInData>({ isLoggedIn: !!userId });\n};\n\nfunction App() {\n  const { isLoggedIn } = useLoaderData<typeof loader>();\n  return (\n    <html>\n      <head>\n        <link\n          rel=\"icon\"\n          href=\"data:image/x-icon;base64,AA\"\n        />\n        <Links />\n        <Meta />\n      </head>\n      <body>\n        <div className={'header'}>\n          <div className={'grid grid-cols-10'}>\n            <div>\n              <Link className={'font-medium text-blue-600 dark:text-blue-500 hover:underline'} to=\"/habits\">Habits</Link>\n            </div>\n            {isLoggedIn &&\n              <div>\n                <a className={'font-medium text-blue-600 dark:text-blue-500 hover:underline'} href=\"/v1/logout\">Logout</a>\n              </div>\n            }\n            {!isLoggedIn &&\n              <div>\n                <Link className={'font-medium text-blue-600 dark:text-blue-500 hover:underline'} to=\"/login\">Login</Link>\n              </div>\n            }\n          </div>\n        </div>\n        <div className={'grid grid-cols-3'}>\n          <div />\n          <div>\n            <HabitsProvider>\n              <Outlet />\n            </HabitsProvider>\n          </div>\n          <div />\n        </div>\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n\nexport const ErrorBoundary = () => {\n  const error = useRouteError();\n  captureRemixErrorBoundaryError(error);\n  return <div>Something went wrong</div>;\n};\n\nexport default withSentry(App);\n","import React from 'react';\nimport {useSortable} from '@dnd-kit/sortable';\nimport {CSS} from '@dnd-kit/utilities';\nimport { RxDragHandleHorizontal } from \"react-icons/rx\";\n\nexport function HabitListItem(props) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({id: props.id});\n  \n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n  };\n  return (\n    <div className={'bg-white text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow habit-item'} ref={setNodeRef} style={style} {...attributes} {...listeners}>\n      <div className={'grid grid-cols-12'}>\n        <div>\n          <RxDragHandleHorizontal />\n        </div>\n        <div className={'col-span-10'}>\n          {props.name}\n        </div>\n        <div>\n          <input type=\"checkbox\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Await  } from \"@remix-run/react\";\nimport { requireUserId } from \"../session.server\";\nimport React, { useState, useEffect, Suspense } from 'react';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport {HabitListItem} from '../components/habit-list-item';\nimport { useHabits } from '../providers/habits';\n\nexport async function loader({request}) {\n  await requireUserId(request);\n  return {}\n}\n\nexport default function Habits() {\n  const habits = useHabits();\n  const [initialLoad, setInitialLoad] = useState<boolean>(true);\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(TouchSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    })\n  );\n  useEffect(() => {\n    if (!initialLoad) return;\n    setInitialLoad(false);\n    habits.load();\n  }, [initialLoad, habits]);\n\n  return (\n    <Suspense fallback={<div>Beep Boop I AM CONTENT</div>}>\n        <Await resolve={habits}>\n          <DndContext\n            sensors={sensors}\n            collisionDetection={closestCenter}\n            onDragEnd={handleDragEnd}\n          >\n            <SortableContext\n              items={habits.habits}\n              strategy={verticalListSortingStrategy}\n            >\n              {habits.habits.map(habit => <HabitListItem name={habit.name} key={habit.id} id={habit.id} />)}\n            </SortableContext>\n          </DndContext> \n        </Await>\n    </Suspense>\n  )\n\n  function handleDragEnd(event) {\n    const {active, over} = event;\n    const oldIndex = habits.habits.findIndex(item => item.id === active.id);\n    const newIndex = habits.habits.findIndex(item => item.id === over.id);\n    habits.set(arrayMove(habits.habits, oldIndex, newIndex));\n  }\n}\n","import React from 'react'\nimport { json } from \"@remix-run/node\";\nimport { OAuth2Client } from 'google-auth-library';\nimport { FaGoogle } from \"react-icons/fa\";\nimport { Link, useLoaderData } from \"@remix-run/react\";\n\nconst oAuth2Client = new OAuth2Client(\n  process.env.OAUTH_CLIENT_ID,\n  process.env.OAUTH_CLIENT_SECRET,\n  process.env.OAUTH_REDIRECT,\n);\n\ntype RedirectData = {\n  data: {\n    redirect: string;\n  }\n}\n\nexport const loader = async () => {\n  const redirect = oAuth2Client.generateAuthUrl({\n    access_type: 'offline',\n    scope: [\n      'https://www.googleapis.com/auth/userinfo.profile',\n      'https://www.googleapis.com/auth/userinfo.email',\n    ],\n  });\n  return json({\n    data: {\n      redirect\n    }\n  });\n};\n\nexport default function Login () {\n  const {data} = useLoaderData<RedirectData>();\n  return (\n    <div className={'bg-white text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow'}>\n      <Link id=\"login-with-google\" className={'grid grid-cols-3'} to={data.redirect} data-testid=\"google-login\">\n        <div className={'pt-1'}>\n          <FaGoogle />\n        </div>\n        <div className={'text-center'}>\n          Login with Google\n        </div>\n      </Link>\n    </div>\n  )\n}\n"],"names":["habits","sess","loader","isLoggedIn","redirect"],"mappings":"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","x_google_ignoreList":[0]}