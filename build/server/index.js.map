{"version":3,"file":"index.js","sources":["../../node_modules/@remix-run/dev/dist/config/defaults/entry.server.node.tsx","../../app/root.tsx","../../app/routes/sentry-example-page.jsx"],"sourcesContent":["import { PassThrough } from \"node:stream\";\n\nimport type { AppLoadContext, EntryContext } from \"@remix-run/node\";\nimport { createReadableStreamFromReadable } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport * as isbotModule from \"isbot\";\nimport { renderToPipeableStream } from \"react-dom/server\";\n\nconst ABORT_DELAY = 5_000;\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext,\n  loadContext: AppLoadContext\n) {\n  return isBotRequest(request.headers.get(\"user-agent\"))\n    ? handleBotRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      )\n    : handleBrowserRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      );\n}\n\n// We have some Remix apps in the wild already running with isbot@3 so we need\n// to maintain backwards compatibility even though we want new apps to use\n// isbot@4.  That way, we can ship this as a minor Semver update to @remix-run/dev.\nfunction isBotRequest(userAgent: string | null) {\n  if (!userAgent) {\n    return false;\n  }\n\n  // isbot >= 3.8.0, >4\n  if (\"isbot\" in isbotModule && typeof isbotModule.isbot === \"function\") {\n    return isbotModule.isbot(userAgent);\n  }\n\n  // isbot < 3.8.0\n  if (\"default\" in isbotModule && typeof isbotModule.default === \"function\") {\n    return isbotModule.default(userAgent);\n  }\n\n  return false;\n}\n\nfunction handleBotRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onAllReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          // Log streaming rendering errors from inside the shell.  Don't log\n          // errors encountered during initial shell rendering since they'll\n          // reject and get logged in handleDocumentRequest.\n          if (shellRendered) {\n            console.error(error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\nfunction handleBrowserRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onShellReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n          const stream = createReadableStreamFromReadable(body);\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(stream, {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          // Log streaming rendering errors from inside the shell.  Don't log\n          // errors encountered during initial shell rendering since they'll\n          // reject and get logged in handleDocumentRequest.\n          if (shellRendered) {\n            console.error(error);\n          }\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n","import { withSentry, captureRemixErrorBoundaryError } from \"@sentry/remix\";\nimport { useEffect, useState } from 'react';\nimport {\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  useRouteError,\n} from \"@remix-run/react\";\n\n// import classes from './style.module.css'\n\nfunction App() {\n  const [count, setCount] = useState(0);\n\n  // Similar to componentDidMount and componentDidUpdate:\n  useEffect(() => {\n    // Update the document title using the browser API\n    document.title = `You clicked ${count} times`;\n  });\n\n  return (\n    <html>\n      <head>\n        <link\n          rel=\"icon\"\n          href=\"data:image/x-icon;base64,AA\"\n        />\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <h1>Hello world!</h1>\n        <Outlet />\n          <p>You clicked {count} times</p>\n        <button onClick={() => setCount(count + 1)}>\n          Click me\n        </button>\n        <Scripts />\n      </body>\n    </html>\n  )\n}\n\nexport const ErrorBoundary = () => {\n  const error = useRouteError();\n  captureRemixErrorBoundaryError(error);\n  return <div>Something went wrong</div>;\n};\n\nexport default withSentry(App);\n\n","\nimport * as Sentry from '@sentry/remix';\n\nexport default function SentryExamplePage() {\n    return (\n        <div>\n            <main\n            style={{\n                minHeight: \"100vh\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n            }}\n            >\n\n            <h1 style={{ fontSize: \"4rem\", margin: \"14px 0\" }}>\n                {/* biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}\n                <svg\n                style={{\n                    height: \"1em\",\n                }}\n                xmlns=\"http://www.w3.org/2000/svg\"\n                viewBox=\"0 0 200 44\"\n                >\n                <path\n                    fill=\"currentColor\"\n                    d=\"M124.32,28.28,109.56,9.22h-3.68V34.77h3.73V15.19l15.18,19.58h3.26V9.22h-3.73ZM87.15,23.54h13.23V20.22H87.14V12.53h14.93V9.21H83.34V34.77h18.92V31.45H87.14ZM71.59,20.3h0C66.44,19.06,65,18.08,65,15.7c0-2.14,1.89-3.59,4.71-3.59a12.06,12.06,0,0,1,7.07,2.55l2-2.83a14.1,14.1,0,0,0-9-3c-5.06,0-8.59,3-8.59,7.27,0,4.6,3,6.19,8.46,7.52C74.51,24.74,76,25.78,76,28.11s-2,3.77-5.09,3.77a12.34,12.34,0,0,1-8.3-3.26l-2.25,2.69a15.94,15.94,0,0,0,10.42,3.85c5.48,0,9-2.95,9-7.51C79.75,23.79,77.47,21.72,71.59,20.3ZM195.7,9.22l-7.69,12-7.64-12h-4.46L186,24.67V34.78h3.84V24.55L200,9.22Zm-64.63,3.46h8.37v22.1h3.84V12.68h8.37V9.22H131.08ZM169.41,24.8c3.86-1.07,6-3.77,6-7.63,0-4.91-3.59-8-9.38-8H154.67V34.76h3.8V25.58h6.45l6.48,9.2h4.44l-7-9.82Zm-10.95-2.5V12.6h7.17c3.74,0,5.88,1.77,5.88,4.84s-2.29,4.86-5.84,4.86Z M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z\"\n                />\n                </svg>\n            </h1>\n\n            <p>Get started by sending us a sample error:</p>\n\n            <button\n                type=\"button\"\n                style={{\n                padding: \"12px\",\n                cursor: \"pointer\",\n                backgroundColor: \"#AD6CAA\",\n                borderRadius: \"4px\",\n                border: \"none\",\n                color: \"white\",\n                fontSize: \"14px\",\n                margin: \"18px\",\n                }}\n                onClick={() => {\n                    throw new Error(\"Sentry Example Frontend Error\");\n                }}\n            >\n                Throw error!\n            </button>\n\n            <p>\n                Next, look for the error on the{\" \"}\n                <a href=\"https://daily-habits-ben-coe-test-orga.sentry.io/issues/?project=4507062370107392\">Issues Page</a>.\n            </p>\n            <p style={{ marginTop: \"24px\" }}>\n                For more information, see{\" \"}\n                <a href=\"https://docs.sentry.io/platforms/javascript/guides/remix/\">\n                https://docs.sentry.io/platforms/javascript/guides/remix/\n                </a>\n            </p>\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}